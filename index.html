<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solving for X Helper</title>
    <style>
        body {
            font-family: 'Comic Sans MS', 'Comic Sans', cursive;
        }
    </style>
    <script>
        function parseEquation(equation, variable) {
            equation = equation.replace(/\s+/g, '');
            let [lhs, rhs] = equation.split('=');
            lhs = lhs.replace(/-/g, '+-');
            rhs = rhs.replace(/-/g, '+-');

            let [a, b] = parseSide(lhs, variable);
            let [c, d] = parseSide(rhs, variable);

            let A = a - c;
            let B = b - d;
            return [A, B];
        }

        function parseSide(side, variable) {
            let terms = side.split('+');
            let a = 0, b = 0;
            terms.forEach(term => {
                if (term.includes(variable)) {
                    let coef = parseFloat(term.replace(variable, ''));
                    if (!isNaN(coef)) {
                        a += coef;
                    }
                } else {
                    let constant = parseFloat(term);
                    if (!isNaN(constant)) {
                        b += constant;
                    }
                }
            });
            return [a, b];
        }

        function solveForVariable(A, B) {
            if (A === 0) {
                throw new Error("No solution or infinite solutions exist.");
            }
            return -B / A;
        }

        function solveEquation(equation) {
            let variable = equation.match(/[a-zA-Z]/g)[0];
            let steps = [];
            steps.push(`Step 1: Write down the equation: ${equation}`);

            let [A, B] = parseEquation(equation, variable);
            steps.push(`Step 2: Convert to standard form A${variable} + B = 0: ${A}${variable} + ${B} = 0`);

            let solution = solveForVariable(A, B);
            steps.push(`Step 3: Solve for ${variable}: ${variable} = ${solution}`);

            return [solution, steps];
        }

        function handleFormSubmit(event) {
            event.preventDefault();
            const equation = document.getElementById('equation').value;
            const resultDiv = document.getElementById('result');
            const stepsDiv = document.getElementById('steps');

            try {
                const [solution, steps] = solveEquation(equation);
                stepsDiv.innerHTML = steps.join('<br>');
                resultDiv.innerHTML = `Solution: ${solution}`;
            } catch (error) {
                resultDiv.innerHTML = `Error: ${error.message}`;
            }
        }
    </script>
</head>
<body>
    <h1>Solving for X Helper</h1>
    <form id="equationForm" onsubmit="handleFormSubmit(event)">
        <label for="equation">Enter the equation (e.g., 2x+1=3x+6):</label>
        <input type="text" id="equation" name="equation" required>
        <button type="submit">Solve</button>
    </form>
    <div id="solution">
        <h2>Solution:</h2>
        <div id="steps"></div>
        <div id="result"></div>
    </div>
</body>
</html>
